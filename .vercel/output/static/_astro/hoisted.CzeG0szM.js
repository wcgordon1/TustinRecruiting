import"https://unpkg.com/mailgo@0.12.2/dist/mailgo.min.js";function p(){const t=document.querySelectorAll(".job-item"),e=document.getElementById("noResults");if(!e)return;let o=!1;t.forEach(n=>{n instanceof HTMLElement&&n.style.display!=="none"&&(o=!0)}),e.style.display=o?"none":"block"}const E=new MutationObserver(t=>{t.forEach(e=>{e.type==="attributes"&&e.attributeName==="style"&&p()})});document.querySelectorAll(".job-item").forEach(t=>{E.observe(t,{attributes:!0})});window.resetAllFilters=()=>{const t=document.getElementById("searchInput");t&&(t.value=""),document.querySelectorAll('input[type="radio"]').forEach(o=>{o.checked=!1}),document.querySelectorAll(".job-item").forEach(o=>{o instanceof HTMLElement&&(o.style.display="")});const e=document.getElementById("noResults");e&&(e.style.display="none")};p();document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("searchInput"),e=document.getElementById("clearButton"),o=document.getElementById("searchIcon");document.addEventListener("resetSearch",()=>{t&&(t.value="",n())});function n(){const i=document.querySelectorAll(".job-item"),c=t?.value.toLowerCase()||"";if(e&&o){const s=c.length>=2;e.classList.toggle("hidden",!s),o.classList.toggle("hidden",s)}c.length>=2?i.forEach(s=>{if(!(s instanceof HTMLElement))return;const l={position:s.dataset.position?.toLowerCase()||"",location:s.dataset.location?.toLowerCase()||"",team:s.dataset.team?.toLowerCase()||"",description:s.dataset.description?.toLowerCase()||"",category:s.dataset.category?.toLowerCase()||"",company:s.dataset.company?.toLowerCase()||""},d=c.trim().split(/\s+/).every(r=>Object.values(l).some(y=>y===r||y.includes(r)||y.split(/\s+/).some(h=>h===r||h.startsWith(r))));s.style.display=d?"":"none"}):i.forEach(s=>{s instanceof HTMLElement&&(s.style.display="")})}function u(){t&&(t.value="",n())}t?.addEventListener("input",n),e?.addEventListener("click",u)});let a={salary:null,team:null,category:null};function g(){document.querySelectorAll(".job-item").forEach(e=>{const o=e.dataset.team||"",n=e.dataset.category||"";parseInt(e.dataset.salary||"0");const u=!a.team||o===a.team,i=!a.category||n===a.category;if(e.style.display=u&&i?"":"none",a.salary){const c=document.querySelector(".job-list");if(!c)return;const s=Array.from(c.children);s.sort((l,m)=>{const d=parseInt(l.dataset.salary||"0"),r=parseInt(m.dataset.salary||"0");return a.salary==="high-low"?r-d:d-r}),s.forEach(l=>c.appendChild(l))}}),document.dispatchEvent(new CustomEvent("checkResults"))}document.querySelectorAll('input[type="radio"]').forEach(t=>{t.addEventListener("change",e=>{const o=e.target,n=o.name.split("-")[0];a[n]=o.value,g()})});const f=document.getElementById("resetFilters");f&&f.addEventListener("click",()=>{a={salary:null,team:null,category:null},document.querySelectorAll('input[type="radio"]').forEach(e=>e.checked=!1),document.dispatchEvent(new CustomEvent("resetSearch")),document.querySelectorAll(".job-item").forEach(e=>e.style.display=""),document.dispatchEvent(new CustomEvent("checkResults"));const t=document.getElementById("searchContainer");t&&t.scrollIntoView({behavior:"smooth"})});
